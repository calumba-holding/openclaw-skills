# heartbeat-manager 配置文件
# 邮件凭证（账号、密码、收件人）请配置在 config/.env，不要写在此文件中

# 心跳间隔（分钟）
heartbeat_interval: 30

# 邮件功能
# 注意：邮件凭证（EMAIL_SENDER / EMAIL_APP_PASSWORD / EMAIL_RECIPIENTS）
#       必须在 config/.env 中配置，此文件仅存放非敏感的行为设置
email:
  enabled: true                 # 改为 false 可完全禁用所有邮件功能
  smtp_host: smtp.gmail.com
  smtp_port: 587
  imap_host: imap.gmail.com
  imap_port: 993
  # 高优先级发件人关键词（邮件检查时优先标记，填发件人邮箱的一部分即可）
  high_priority_senders: []

# 智能超时分析
timeout:
  eta_grace_hours: 2            # 超过 eta 多少小时后触发分析
  stale_beats: 3                # 连续 N 个心跳无进展视为卡死
  progress_threshold: 5         # progress 变化低于此值视为无进展

# 健康度评分
health:
  alert_threshold: 60           # 低于此分数计为低分
  alert_consecutive: 3          # 连续低分次数触发邮件告警

# 日志
logging:
  level: INFO
  rotate_days: 7

# Git 同步
git:
  auto_commit: true             # 每次心跳自动 git commit
  auto_push: true               # 自动 push 到远程（改为 false 可禁用）
  commit_prefix: "[heartbeat]"

# 工作区路径（相对于 skill 根目录）
workspace_dir: workspace
